"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[5427],{31733:(t,e,r)=>{r.d(e,{D:()=>g,F:()=>l,I:()=>i,a:()=>c,b:()=>h,c:()=>u,f:()=>p,g:()=>f,u:()=>d});var a=r(86648),n=r(94593),o=r(42151),s=r(17673);const i=(()=>n.arrayify("0x80ac58cd"))(),c=(()=>n.arrayify("0xd9b67a26"))(),l={name:"Failed to load NFT metadata"};async function p(t,e,r){if(e.startsWith("data:application/json;base64")&&"undefined"!==typeof Buffer){const r=e.split(",")[1],n=JSON.parse(Buffer.from(r,"base64").toString("utf-8"));return a.a.parse({...n,id:o.gH.from(t).toString(),uri:e})}const s=e.replace("{id}",n.hexZeroPad(o.gH.from(t).toHexString(),32).slice(2));let i;try{i=await r.downloadJSON(s)}catch(c){const a=e.replace("{id}",o.gH.from(t).toString());try{i=await r.downloadJSON(a)}catch(p){console.warn("failed to get token metadata: ".concat(JSON.stringify({tokenId:t.toString(),tokenUri:e})," -- falling back to default metadata")),i=l}}return a.a.parse({...i,id:o.gH.from(t).toString(),uri:e})}async function u(t,e,n,u){let h;const d=(await r.e(4811).then(r.t.bind(r,94811,19))).default,f=new s.NZ(t,d,e),[g,m]=await Promise.all([f.supportsInterface(i),f.supportsInterface(c)]);if(g){const a=(await Promise.resolve().then(r.t.bind(r,1024,19))).default,o=new s.NZ(t,a,e);h=await o.tokenURI(n)}else{if(!m)throw Error("Contract must implement ERC 1155 or ERC 721.");{const a=(await Promise.resolve().then(r.t.bind(r,51146,19))).default,o=new s.NZ(t,a,e);h=await o.uri(n)}}return h?p(n,h,u):a.a.parse({...l,id:o.gH.from(n).toString(),uri:""})}async function h(t,e){return"string"===typeof t?t:await e.upload(a.C.parse(t))}async function d(t,e,r,n){if(function(t){return void 0===t.find((t=>"string"!==typeof t))}(t))return t;if(function(t){return void 0===t.find((t=>"object"!==typeof t))}(t)){return await e.uploadBatch(t.map((t=>a.C.parse(t))),{rewriteFileNames:{fileStartNumber:r||0},onProgress:null===n||void 0===n?void 0:n.onProgress})}throw new Error("NFT metadatas must all be of the same type (all URI or all NFTMetadataInput)")}function f(t){const e=t[0].substring(0,t[0].lastIndexOf("/"));for(let r=0;r<t.length;r++){const a=t[r].substring(0,t[r].lastIndexOf("/"));if(e!==a)throw new Error("Can only create batches with the same base URI for every entry in the batch. Expected '".concat(e,"' but got '").concat(a,"'"))}return e.replace(/\/$/,"")+"/"}const g=100},5342:(t,e,r)=>{r.d(e,{E:()=>c,R:()=>s,S:()=>i,a:()=>l});var a=r(42151),n=r(17116),o=r(40021);const s=(()=>n.z.union([n.z.date().transform((t=>a.gH.from(Math.floor(t.getTime()/1e3)))),n.z.number().transform((t=>a.gH.from(t)))]))(),i=(()=>s.default(new Date(0)))(),c=(()=>s.default(new Date(Date.now()+31536e7)))();function l(t,e){if(!t)throw new o.x(e);return t}},92160:(t,e,r)=>{r.d(e,{C:()=>a});class a{constructor(t){this.contractWrapper=t}overrideNextTransaction(t){this.contractWrapper.withTransactionOverride(t)}}},98802:(t,e,r)=>{r.d(e,{C:()=>l});var a=r(54705),n=r(67033),o=r(40021),s=r(23605),i=r(40685),c=r(25399);class l{constructor(t,e){(0,a.A)(this,"featureName",o.d1.name),(0,a.A)(this,"setAll",(0,i.f)((async(t,e)=>{const r=e||await this.contractWrapper.getSignerAddress(),a=new c.C(this.contractWrapper),s=Object.keys(t);(0,n.A)(s.length,"you must provide at least one role to set"),(0,n.A)(s.every((t=>this.roles.includes(t))),"this contract does not support the given role");const l=await this.getAll(),p=[],u=s.sort((t=>"admin"===t?1:-1));for(let n=0;n<u.length;n++){var h,d;const e=u[n],[s,i]=await Promise.all([Promise.all((null===(h=t[e])||void 0===h?void 0:h.map((t=>(0,o.aM)(t))))||[]),Promise.all((null===(d=l[e])||void 0===d?void 0:d.map((t=>(0,o.aM)(t))))||[])]),c=s.filter((t=>!i.includes(t))),f=i.filter((t=>!s.includes(t)));if(f.length>1){const t=f.indexOf(r);t>-1&&(f.splice(t,1),f.push(r))}if(c.length&&c.forEach((t=>{p.push(a.encode("grantRole",[(0,o.H)(e),t]))})),f.length){(await Promise.all(f.map((t=>this.getRevokeRoleFunctionName(t))))).forEach(((t,r)=>p.push(a.encode(t,[(0,o.H)(e),f[r]]))))}}return i.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[p]})}))),(0,a.A)(this,"grant",(0,i.f)((async(t,e)=>{(0,n.A)(this.roles.includes(t),'this contract does not support the "'.concat(t,'" role'));const r=await(0,o.aM)(e);return i.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"grantRole",args:[(0,o.H)(t),r]})}))),(0,a.A)(this,"revoke",(0,i.f)((async(t,e)=>{(0,n.A)(this.roles.includes(t),'this contract does not support the "'.concat(t,'" role'));const r=await(0,o.aM)(e),a=await this.getRevokeRoleFunctionName(r);return i.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:a,args:[(0,o.H)(t),r]})}))),this.contractWrapper=t,this.roles=e}async getAll(){(0,n.A)(this.roles.length,"this contract has no support for roles");const t={},e=Object.entries(this.roles);return(await Promise.all(e.map((t=>{let[,e]=t;return this.get(e)})))).forEach(((r,a)=>t[e[a][1]]=r)),t}async get(t){(0,n.A)(this.roles.includes(t),'this contract does not support the "'.concat(t,'" role'));const e=this.contractWrapper;if((0,s.h)("getRoleMemberCount",e)&&(0,s.h)("getRoleMember",e)){const r=(0,o.H)(t),a=(await e.read("getRoleMemberCount",[r])).toNumber();return await Promise.all(Array.from(Array(a).keys()).map((t=>e.read("getRoleMember",[r,t]))))}throw new Error("Contract does not support enumerating roles. Please implement IPermissionsEnumerable to unlock this functionality.")}async verify(t,e){await Promise.all(t.map((async t=>{const[r,a]=await Promise.all([this.get(t),(0,o.aM)(e)]);if(!r.map((t=>t.toLowerCase())).includes(a.toLowerCase()))throw new o.o(a,t)})))}async getRevokeRoleFunctionName(t){const[e,r]=await Promise.all([(0,o.aM)(t),this.contractWrapper.getSignerAddress()]);return r.toLowerCase()===e.toLowerCase()?"renounceRole":"revokeRole"}}},29455:(t,e,r)=>{r.r(e),r.d(e,{MarketplaceV3:()=>d});var a=r(54705),n=r(5342),o=r(23605),s=r(40021),i=r(25399),c=r(92160),l=r(45329),p=r(98802),u=r(89739),h=r(40685);r(2914),r(70689),r(61718);class d{get directListings(){return(0,n.a)(this.detectDirectListings(),s.dx)}get englishAuctions(){return(0,n.a)(this.detectEnglishAuctions(),s.dy)}get offers(){return(0,n.a)(this.detectOffers(),s.dz)}get chainId(){return this._chainId}constructor(t,e,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new s.cs(t,e,n,a,r);this._chainId=u,this.abi=s.bk.parse(n||[]),this.contractWrapper=h,this.storage=r,this.metadata=new o.C(this.contractWrapper,s.b$,this.storage),this.app=new o.b(this.contractWrapper,this.metadata,this.storage),this.roles=new p.C(this.contractWrapper,d.contractRoles),this.encoder=new i.C(this.contractWrapper),this.estimator=new o.G(this.contractWrapper),this.events=new o.a(this.contractWrapper),this.platformFees=new l.C(this.contractWrapper),this.interceptor=new c.C(this.contractWrapper)}onNetworkUpdated(t){this.contractWrapper.updateSignerOrProvider(t)}getAddress(){return this.contractWrapper.address}async prepare(t,e,r){return h.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:t,args:e,overrides:r})}async call(t,e,r){return this.contractWrapper.call(t,e,r)}detectDirectListings(){if((0,o.d)(this.contractWrapper,"DirectListings"))return new u.M(this.contractWrapper,this.storage)}detectEnglishAuctions(){if((0,o.d)(this.contractWrapper,"EnglishAuctions"))return new u.a(this.contractWrapper,this.storage)}detectOffers(){if((0,o.d)(this.contractWrapper,"Offers"))return new u.b(this.contractWrapper,this.storage)}}(0,a.A)(d,"contractRoles",s.dE)},86648:(t,e,r)=>{r.d(e,{B:()=>c,C:()=>l,N:()=>p,a:()=>u,s:()=>h});var a=r(40021),n=r(17116),o=r(25399);const s=(()=>n.z.object({}).catchall(n.z.union([a.cx,n.z.unknown()])))(),i=(()=>n.z.union([n.z.array(n.z.array(s)).transform((t=>t.flat())),n.z.array(s),s]).optional().nullable())(),c=(()=>n.z.object({name:n.z.union([n.z.string(),n.z.number()]).optional().nullable(),description:n.z.string().nullable().optional().nullable(),image:a.cy.nullable().optional(),animation_url:a.cy.optional().nullable()}))(),l=(()=>c.extend({external_url:a.cy.nullable().optional(),background_color:a.cz.optional().nullable(),properties:i,attributes:i}).catchall(n.z.union([a.cx,n.z.unknown()])))(),p=(()=>n.z.union([l,n.z.string()]))(),u=(()=>l.extend({id:n.z.string(),uri:n.z.string(),image:n.z.string().nullable().optional(),external_url:n.z.string().nullable().optional(),animation_url:n.z.string().nullable().optional()}))();async function h(t,e,n,s){if(!(0,o.i)(n)){const o=(await Promise.resolve().then(r.t.bind(r,96337,19))).default,i=t.getSigner(),c=t.getProvider(),l=new a.cs(i||c,n,o,t.options,t.storage),p=await t.getSignerAddress(),u=t.address;return(await l.read("allowance",[p,u])).lt(e)&&await l.sendTransaction("approve",[u,e]),s}s.value=e}}}]);